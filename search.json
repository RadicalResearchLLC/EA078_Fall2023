[
  {
    "objectID": "index.html#preface",
    "href": "index.html#preface",
    "title": "Environmental Data Visualization",
    "section": "Preface",
    "text": "Preface\nThis is the course website for ‚ÄòEA 078 PZ - Environmental Data Visualization‚Äô. In this course, you will learn to import, manipulate, and visualize data using R, with hands-on examples. You will also learn the theory and ethics of environmental data visualization. Throughout the course, you will have the opportunity to practice and apply the skills and judgment of data visualization to provide effective illustrations of real-world data in order to persuade, inform, and communicate.\n\n\n\n\n\n\nThis book is created using the Quarto publishing system in order to provide an example of its use in environmental data visualization and as a course resource tool for display of coding examples and visualization."
  },
  {
    "objectID": "index.html#license",
    "href": "index.html#license",
    "title": "Environmental Data Visualization",
    "section": "License",
    "text": "License\nThis website is free to use, and is licensed under the Creative Commons Attribution-ShareAlike 4.0 License."
  },
  {
    "objectID": "index.html#earth-selfie",
    "href": "index.html#earth-selfie",
    "title": "Environmental Data Visualization",
    "section": "Earth Selfie",
    "text": "Earth Selfie\nFigure¬†1 is the iconic Pale Blue Dot image taken by the Voyager 1 space probe in 1990 from beyond Neptune. The Earth in this image is only a single pixel in size.\n\n\n\nFigure¬†1: Carl Sagan‚Äôs Pale Blue Dot - an effective visualization?"
  },
  {
    "objectID": "intro.html#course-description",
    "href": "intro.html#course-description",
    "title": "Introductions",
    "section": "Course Description",
    "text": "Course Description\nThis is an introductory course on the theory and practice of effective communication with quantitative data. This course will introduce the theory of data visualization, discuss the ethics of data visualization, provide hands-on training in acquiring, tidying, and visualizing quantitative environmental data, and critically examine current environmental justice tools (CalEnviroScreen, EPA‚Äôs EJScreen, EPA‚Äôs EnviroAtlas)."
  },
  {
    "objectID": "intro.html#about-me",
    "href": "intro.html#about-me",
    "title": "Introductions",
    "section": "About Me",
    "text": "About Me\nCall me any of the following:\n\nMike\nDr.¬†Mike\nProfessor Mike\nDr.¬†McCarthy\nProfessor McCarthy\n\nMy pronouns are he/him. Here is some of my background.\n\nAdjunct Professor in Department of Environmental Analysis\nI have been an Environmental Consultant for ~20 years\n\ncurrently I am a sole propietor at Radical Research LLC\nprior to that I worked at a company called Sonoma Technology, Inc.\n\nTrained as a chemist/atmospheric chemist\n\nundergrad at Creighton University\ngrad school at UC Berkeley\n\nIn my spare time, I enjoy\n\ngames (board, tabletop roleplaying, video games)\nyoga\nswimming\nfighting warehouse development in my neighborhood as Vice Chair of Riverside Neighbors Opposing Warehouses\n\nMy spouse is a Professor of Botany and Plant Sciences at UC Riverside, and my son is a student in middle school\nMy goals for this course\n\nbounce ideas around for cool new ways of looking at environmental data\nexplore and connect with your environmental interests\ncontinuously improve my teaching to better meet your needs\nlearn new ways of thinking about problems\nbuild tools to empower, inform, and persuade our communities"
  },
  {
    "objectID": "intro.html#about-you",
    "href": "intro.html#about-you",
    "title": "Introductions",
    "section": "About You",
    "text": "About You\nNow it is your turn to introduce yourself. Please address the following four bullets. Please add anything else you think will be helpful for me and/or your colleagues to know about you.\n\nName (as you would like to be addressed)\nYear\nMajor/Field\nYour goal(s) for this course (if any)\nAn uninteresting factoid about you"
  },
  {
    "objectID": "weather.html",
    "href": "weather.html",
    "title": "Unit 1: Weather and Climate",
    "section": "",
    "text": "The most common environmental dataset that people encounter is the weather. Every major type of media devotes time to the weather: newspapers, news shows, apps, twitter bots, and The Weather Channel.\nIt is a great example for us to start talking about environmental data. Additionally, the weather is often confused for the Climate. Given the existential threat of Climate Change, we‚Äôll explore, replicate, and maybe improve some climate visualizations.\n\nComparative Analysis\nExamine Figure¬†1 from the Los Angeles Times, a Twitter emoji weather map, and a screenshot from Wunderground.\n\n\n\n\n\n\nWhat are your impressions of these different visualizations?\n\n\n\n\n\n\nFigure¬†1: Los Angeles Times Weather Map\n\n\n\n\n\nFigure¬†2: Twitter emoji Map\n\n\n\n\n\nFigure¬†3: Wunderground weather website and app"
  },
  {
    "objectID": "information.html#data-information-and-knowledge",
    "href": "information.html#data-information-and-knowledge",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.1 Data, Information, and Knowledge",
    "text": "1.1 Data, Information, and Knowledge\n\n1.1.1 What is data?\n\nFacts, or discrete elements of information.\n\nquantitative or qualitative observations or descriptions\nstatistics or values represented in a form suitable for processing by computer\nplural of datum (never ever use this, IMO, everything is data, singular or plural)\n\n1.1.2 What is information?\n\nThe act of informing or the condition of being informed; communication of knowledge\n\nProcessed, stored, or transmitted data; structured data; data in context and significance\nStimuli that has meaning in some context for its receiver\n\n1.1.3 What is knowledge?\n\nGeneral understanding or familiarity with a subject\nAwareness of a subject; the state of being informed\nIntellectual understanding; the state of appreciating the truth of information"
  },
  {
    "objectID": "information.html#weather-map-example",
    "href": "information.html#weather-map-example",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.2 Weather map example",
    "text": "1.2 Weather map example\n\n\nFigure¬†1.1: LA Times Weather Map\n\nThe visualization structures the underlying data into information. A good visualization communicates complex ideas with clarity, precision, and efficiency. It imparts knowledge.\n\n1.2.1 Categories of information illustrated by the newspaper weather visualization\n\n\nQuantitative (i.e., numerical) data\n\nTemperatures (high, low)\nPrecipitation\nWind speeds and directions\nAir quality index\nUV index\nTide heights and times\nSunrise & sunset times\n\n\n\nQualitative observations\n\n‚ÄòSeasonably warm‚Äô\n‚ÄòFog, then mostly sunny‚Äô\nSky categories (partly cloudy, thunderstorms, rain, sunny, showers, fog, snow, ice)\nAir quality categories (e.g., unhealthy, moderate)\nFlood potential\nWarm front/cold front\nLow/high pressure\ndangerous rip currents risk is moderate/low\n\n\n\nSpatial\n\ngeographic properties\ntopology\ngeometric\ndistance\nprojections\n\n\n\n1.2.2 Data encodings\n\n\nGeometric primitives such as points, lines, and areas\n\nVisual channels such as size, color, shape, position, angle, and texture\n\nExamples of these encodings are shown in Figure¬†1.2.\n\n\nFigure¬†1.2: image credit: Nils Gehlenborg, ISMB/ECCB 2011\n\n\n\n\n\n\n\nWhy am I calling this information, and not data or insight?\nWhy isn‚Äôt this course called Environmental Information Visualization?"
  },
  {
    "objectID": "information.html#abstraction",
    "href": "information.html#abstraction",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.3 Abstraction",
    "text": "1.3 Abstraction\nWhen we talk about the weather and use a data visualization, we are abstracting from Figure¬†1.3 to a 2-D representation of some numbers, colors, or pictures on a pixelized screen.\n\n\nFigure¬†1.3: Palm Springs\n\nüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏èüå©Ô∏è\nData visualization is an artistic abstraction.\nAny environmental data visualization is not the thing itself. We are abstracting the thing itself in order to represent it in a condensed and structured way that conveys information. A thunderstorm emoji conveys the information about the weather in an abstract way, but is not the weather. However, we can put that thunderstorm emoji\n\non a map to provide spatial information\non a clock to provide temporal information\non a phone or an electronic device to communicate the weather in shorthand\n\nSimilarly, the abstraction of data into information allows for substantial control over the stylistic choices. Just like art has impressionism, realism, and surrealism, there are many different schools of thought about the appropriate ways to convey information.\nIn other words, the colors, symbols, shapes, and other stylistic choices encode and reveal truths about the data."
  },
  {
    "objectID": "information.html#ethics",
    "href": "information.html#ethics",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.4 Ethics",
    "text": "1.4 Ethics\n\n\n\n\n\n\nNote\n\n\n\nAvoid misrepresention!\n\n\nVisualization methods can, purposefully or inadvertently, distort the underlying data‚Äôs meaning. There are many underlying causes that can cause this distortion. Distortion can be caused (un)intentionly by the designer of the visualization. The other side is that the visualization may not be understandable to the user. Broadly, these problems can be categorized as:\n\n1.4.1 Spatial projection\n2-Dimensional cartographic representations (i.e., maps) distort either\n\n\nangles,\n\n\ndistances, or\n\nsizes\n\n1.4.2 Cognitive\nProblems associated with -\n\ngraphical elements - ‚ÄúRoses are red, violets are blue.‚Äù\nover-simplification - compare ozone alert images from KTLA news and the SCAQMD.\n\n\n\n\n\n\n\n\n\n\n\n\nunder-simplification\n\n\n\nFigure¬†1.4: Forward 24-hr wind trajectories from MacDonald et al., 2006, https://doi.org/10.1080/10473289.2006.10464509\n\n\nheterogeneity of intended audience (e.g., language barriers, color palettes for color-blindness).\n\n1.4.3 Emotional\n\nGraphical design or content may be repellent or triggering. In the syllabus, the COVID sneeze imagery is both factual model data and an intentionally gross way of visualizing the data to generate a feeling of disgust.\n\n\nA gross image of particles emissions from a sneeze\n\n\n1.4.4 Social\n\nCross-cultural norms -\n\ndirectionality of reading (left-to-right vs.¬†right-to-left)\ncontext of color-scales (e.g., red-green in eastern vs.¬†western cultures)\n\nUnderstanding the intended audience and their norms is always key to open and empathetic communication, whether through words or visualizations. Multiple visualizations may be required for communication with a diverse (i.e., heterogeneous) audience."
  },
  {
    "objectID": "information.html#what-is-the-baseline",
    "href": "information.html#what-is-the-baseline",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.5 What is the Baseline?",
    "text": "1.5 What is the Baseline?\nOne of the most common distortions is changing the scale of the axis to distort magnitudes. Here‚Äôs an example.\nThe code below loads some R packages that are useful for data processing and visualization.\n\n#warning: false\nlibrary(data.table)\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.2     ‚úî readr     2.1.4\n‚úî forcats   1.0.0     ‚úî stringr   1.5.0\n‚úî ggplot2   3.4.2     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.2     ‚úî tidyr     1.3.0\n‚úî purrr     1.0.1     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::between()     masks data.table::between()\n‚úñ dplyr::filter()      masks stats::filter()\n‚úñ dplyr::first()       masks data.table::first()\n‚úñ lubridate::hour()    masks data.table::hour()\n‚úñ lubridate::isoweek() masks data.table::isoweek()\n‚úñ dplyr::lag()         masks stats::lag()\n‚úñ dplyr::last()        masks data.table::last()\n‚úñ lubridate::mday()    masks data.table::mday()\n‚úñ lubridate::minute()  masks data.table::minute()\n‚úñ lubridate::month()   masks data.table::month()\n‚úñ lubridate::quarter() masks data.table::quarter()\n‚úñ lubridate::second()  masks data.table::second()\n‚úñ purrr::transpose()   masks data.table::transpose()\n‚úñ lubridate::wday()    masks data.table::wday()\n‚úñ lubridate::week()    masks data.table::week()\n‚úñ lubridate::yday()    masks data.table::yday()\n‚úñ lubridate::year()    masks data.table::year()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(plotly)\n\n\nAttaching package: 'plotly'\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\n\nThis code imports monthly mean Mauna Loa CO2 data from NOAA GMD CMDL, renames the columns, and then displays the bottom five rows to make sure it shows what we think it should.\n\n#label: ImportCO2\n#warning: false\n\nco2 &lt;- read_table('https://www.gml.noaa.gov/webdata/ccgg/trends/co2/co2_mm_mlo.txt',\n                  skip = 57 ) #%&gt;%\n\n\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\ncols(\n  `#` = col_double(),\n  date = col_double(),\n  average = col_double(),\n  alized = col_double(),\n  of = col_double(),\n  days = col_double(),\n  mon = col_double(),\n  mean = col_double()\n)\n\nfieldNames &lt;- c('year', 'month', 'decDate', 'meanCO2', 'trendedCO2', 'days', 'stdev', 'unc')\ncolnames(co2) &lt;- fieldNames\n\ntail(co2)\n\n# A tibble: 6 √ó 8\n   year month decDate meanCO2 trendedCO2  days stdev   unc\n  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1  2023     2   2023.    420.       419.    23  0.71  0.28\n2  2023     3   2023.    421.       420.    30  0.74  0.26\n3  2023     4   2023.    423.       421.    28  0.6   0.22\n4  2023     5   2023.    424        421.    31  0.69  0.24\n5  2023     6   2023.    424.       421.    29  0.54  0.19\n6  2023     7   2024.    422.       422.    31  0.57  0.2 \n\nhead(co2)\n\n# A tibble: 6 √ó 8\n   year month decDate meanCO2 trendedCO2  days stdev   unc\n  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1  1958     3   1958.    316.       314.    -1 -9.99 -0.99\n2  1958     4   1958.    317.       315.    -1 -9.99 -0.99\n3  1958     5   1958.    318.       315.    -1 -9.99 -0.99\n4  1958     6   1958.    317.       315.    -1 -9.99 -0.99\n5  1958     7   1959.    316.       315.    -1 -9.99 -0.99\n6  1958     8   1959.    315.       316.    -1 -9.99 -0.99\n\n\nThe CO2 data is displayed in #fig-KeelingCurve1 and #fig-KeelingCurve2. How does the y-axis scale affect the interpretation of the same dataset?\n\n#label: KeelingCurve1\n#fig-cap: The Keeling Curve showing monthly average CO~2~ concentrations (ppm) at Mauna Loa\n#warning: false\n\nplot1 &lt;- co2 %&gt;% \n  ggplot(aes(x = decDate, y = meanCO2)) +\n  geom_line(color = 'black', size = 2) +\n  theme_bw() +\n  labs(x = 'Year', y = 'Concentration CO2 (ppm)')\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n‚Ñπ Please use `linewidth` instead.\n\nggplotly(plot1)\n\n\n\n\n\n\n#label: KeelingCurve2\n#fig-cap: The Keeling Curve showing monthly average CO~2~ concentrations (ppm) at Mauna Loa\n#warning: false\n\nplot2 &lt;- plot1 + \n  scale_y_continuous(limits = c(0,425))\n\nggplotly(plot2)\n\n\n\n\n\nA longer viewpoint is shown in Figure¬†1.5 going back well beyond the late 1950s using CO2 data from ice cores, sediments, and other paleo-climatological sources. It shows another y-axis scale.\nHow do the three different y-axis scales distort the user impression of the data?\n\n\nFigure¬†1.5: HistoricalCO2"
  },
  {
    "objectID": "information.html#color",
    "href": "information.html#color",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.6 Color",
    "text": "1.6 Color\nColor is fraught with peril and cultural associations. Moreover, roughly 10% of the population has some form of color-blindness.\n\n\n\n\n\n\nNote\n\n\n\nColor is very commonly used to manipulate the audience in environmental data visualization.\n\n\n\nBe cognizant of how choosing a color palette manipulates the audience\nDon‚Äôt use too many colors (rule of seven)\nBe aware of the three types of color palettes and choose the right one as in Figure¬†1.6.\n\ncontinuous sequential\ncategorical\ncontinuous diverging\n\n\n\n\n\nFigure¬†1.6: Rcolorbrewer color palettes\n\nHow does CalEnviroScreen look when changing from a Blues colorPalette to viridis magma?\n\n\n\n\n\n\n\n\n\n\nLooking for more on color palettes? Check out Berkeley Advanced Media Institute, this Data Visualization Society post, or this color harmony blog post for marketing design."
  },
  {
    "objectID": "information.html#salience",
    "href": "information.html#salience",
    "title": "1¬† Fundamentals of Data Visualization",
    "section": "\n1.7 Salience",
    "text": "1.7 Salience\nVisual salience is the distinctive perceptual measure of how much a visual stimuli stands out from its surrounding neighbors to grab an observer‚Äôs attention.\nRead this!\n\n\n\n\n\n\nNote\n\n\n\nFocus on the pictures and captions to get an impression of visual salience. We‚Äôll be using this as reading as a topic for discussion."
  },
  {
    "objectID": "maps1.html#load-and-install-packages",
    "href": "maps1.html#load-and-install-packages",
    "title": "2¬† Introduction to Spatial Visualization - 1",
    "section": "\n2.1 Load and Install Packages",
    "text": "2.1 Load and Install Packages\nAs a warmup, let‚Äôs load the tidyverse. Remember, you can check to make sure a package is loaded in your R session by checking on the files, plots, and packages panel, clicking on the Packages tab, and scrolling down to tidyverse to make sure it is checked.\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.2     ‚úî readr     2.1.4\n‚úî forcats   1.0.0     ‚úî stringr   1.5.0\n‚úî ggplot2   3.4.2     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.2     ‚úî tidyr     1.3.0\n‚úî purrr     1.0.1     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n\n2.1.1 Geospatial Packages\nR has multiple packages that enable geospatial data visualization. Today, we create basic maps using the sf and leaflet. sf stands for Simple Features which is an open-source geographic information systems data format that works pretty well with tidyverse. Leaflet is an open-source library for mobile-friendly interactive maps.\nAs a reminder, when we first use a package, we need to install it locally. Let‚Äôs start by installing both packages. This only needs to be done once.\n\ninstall.packages('sf')\ninstall.packages('leaflet')\n\nNext, we load the packages to make sure they are available within the R environment.\n\nlibrary(sf)\nlibrary(leaflet)\n\nInstalling and loading packages is EZ!"
  },
  {
    "objectID": "maps1.html#acquiring-data",
    "href": "maps1.html#acquiring-data",
    "title": "2¬† Introduction to Spatial Visualization - 1",
    "section": "\n2.2 Acquiring Data",
    "text": "2.2 Acquiring Data\nWe are going to acquire two datasets for testing today. The first dataset is the nc shapefile dataset that should be installed as part of the sf package. Unlike mpg, this dataset is not directly available in the global environment.\nWe also will import geospatial environmental data set for our test examples. We are going to use a curated version of the CalEnviroscreen4.0 data. The data for the full state of California can be acquired as a zipped esri shapefile .shp. I‚Äôve hosted a smaller version just for SoCal on my gitHub repository for this analysis. Downloading, unzipping, and then importing files is a big part of data science. Unfortunately, it has been my experience that having 15 people all have the same directory and file structures on 15 different machines is fraught with peril. I don‚Äôt want to troubleshoot that for an hour in class, so I tried to make the EZ mode code below.\n\n2.2.1 North Carolina shapefile\nWe will read the data in using the sf function st_read and the base R function system.file.\n\n\nst_read() is a specialized function that reads and loads in geospatial data files of various formats.\n\n\nsystem_file() is a function that checks for files that are within system directories that have been loaded as packages. It searches within the package directories on your computer.\n\n\nst_transform() is required to display the polygons properly in leaflet in the WGS84 coordinate reference system.\n\nWe assign the North Carolina data we‚Äôre reading into a dataset using the &lt;- operator. The &lt;- operator tells R that the data we are loading should be placed into a dataset that we have named nc. In future functions, nc will access that underlying data within nc.\nLastly, there is the pipe operator |&gt;. These pipes are amazing coding features that transformed coding for me. I cannot express my love for the |&gt; in words alone. It allows existing data or information to be passed to the next line of code after some operation has been done on the data. The pipe operator says, ‚Äòtake the output from this line of code, and now do this next thing‚Äô. I like to think of them as Super Mario pipes that Mario enters and is transported to another place. For now, take it on faith that this is the most useful operator in the tidyverse and will be littered throughout this course.\n\nnc &lt;- st_read(system.file(\"shape/nc.shp\", package=\"sf\")) |&gt; \n  st_transform(\"+proj=longlat +ellps=WGS84 +datum=WGS84\")\n\nReading layer `nc' from data source \n  `C:\\Users\\MichaelMcCarthy\\AppData\\Local\\R\\win-library\\4.2\\sf\\shape\\nc.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 100 features and 14 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965\nGeodetic CRS:  NAD27\n\n\nWe then use the head() function to print the first 5 rows of the nc dataset.\n\n\n\n\n\n\nPro tip: Always look at the data after import. Importing data is fraught with peril.\n\n\n\n\nhead(nc)\n\nSimple feature collection with 6 features and 14 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -81.74091 ymin: 36.0729 xmax: -75.7728 ymax: 36.58973\nGeodetic CRS:  +proj=longlat +ellps=WGS84 +datum=WGS84\n   AREA PERIMETER CNTY_ CNTY_ID        NAME  FIPS FIPSNO CRESS_ID BIR74 SID74\n1 0.114     1.442  1825    1825        Ashe 37009  37009        5  1091     1\n2 0.061     1.231  1827    1827   Alleghany 37005  37005        3   487     0\n3 0.143     1.630  1828    1828       Surry 37171  37171       86  3188     5\n4 0.070     2.968  1831    1831   Currituck 37053  37053       27   508     1\n5 0.153     2.206  1832    1832 Northampton 37131  37131       66  1421     9\n6 0.097     1.670  1833    1833    Hertford 37091  37091       46  1452     7\n  NWBIR74 BIR79 SID79 NWBIR79                       geometry\n1      10  1364     0      19 MULTIPOLYGON (((-81.47258 3...\n2      10   542     3      12 MULTIPOLYGON (((-81.23971 3...\n3     208  3616     6     260 MULTIPOLYGON (((-80.45614 3...\n4     123   830     2     145 MULTIPOLYGON (((-76.00863 3...\n5    1066  1606     3    1197 MULTIPOLYGON (((-77.21736 3...\n6     954  1838     5    1237 MULTIPOLYGON (((-76.74474 3...\n\n\n\n2.2.2 Calenviroscreen4.0 geoJSON\nThe second dataset is hosted on the github repository where the class materials are version controlled. The code below names the internet URL where the data is stored as URL.path. If you go to the URL link, you will see the raw .geoJSON formatted spatial data file.\nNext, we apply the same st_read() function to read the geoJSON file. geoJSON is a common format for encoding geographic data structures, and st_read() natively knows how to read it in. The st_transform() function again changes the polygons into the WGS84 coordinate reference system.\nThis time, we‚Äôve named the dataset SoCalEJ.\nFinally, we use the head() function on our SoCalEJ dataset to look at the first 5 rows.\n\nURL.path &lt;- 'https://raw.githubusercontent.com/RadicalResearchLLC/EDVcourse/main/CalEJ4/CalEJ.geoJSON'\nSoCalEJ &lt;- st_read(URL.path) |&gt; \n  st_transform(\"+proj=longlat +ellps=WGS84 +datum=WGS84\")\n\nReading layer `CalEJ' from data source \n  `https://raw.githubusercontent.com/RadicalResearchLLC/EDVcourse/main/CalEJ4/CalEJ.geoJSON' \n  using driver `GeoJSON'\nSimple feature collection with 3747 features and 66 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 97418.38 ymin: -577885.1 xmax: 539719.6 ymax: -236300\nProjected CRS: NAD83 / California Albers\n\nhead(SoCalEJ)\n\nSimple feature collection with 6 features and 66 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -117.874 ymin: 33.5556 xmax: -117.7157 ymax: 33.64253\nGeodetic CRS:  +proj=longlat +ellps=WGS84 +datum=WGS84\n       Tract   ZIP County     ApproxLoc TotPop19   CIscore   CIscoreP\n1 6059062640 92656 Orange   Aliso Viejo     3741  9.642007 12.1028744\n2 6059062641 92637 Orange   Aliso Viejo     5376 10.569290 14.3343419\n3 6059062642 92625 Orange Newport Beach     2834  3.038871  0.6807867\n4 6059062643 92657 Orange Newport Beach     7231  6.538151  5.8497226\n5 6059062644 92660 Orange Newport Beach     8487  8.873604 10.4009077\n6 6059062645 92657 Orange Newport Beach     6527  6.033648  4.7402925\n       Ozone   OzoneP     PM2_5  PM2_5_P   DieselPM DieselPM_P  Pesticide\n1 0.05165298 65.36403  9.445785 43.88301 0.14536744   50.13068 0.00000000\n2 0.05219839 66.80772  9.785209 46.89484 0.07372588   27.41755 0.00000000\n3 0.04827750 55.38270 10.433417 52.03485 0.03478566   12.40821 0.06496406\n4 0.04901945 58.23273 10.013395 49.29683 0.03594981   12.90604 0.00000000\n5 0.04863521 56.96329 10.565404 52.63223 0.07701293   28.73678 0.00000000\n6 0.04863521 56.96329 10.329985 51.28811 0.04047264   14.58619 0.00000000\n  PesticideP   Tox_Rel Tox_Rel_P   Traffic TrafficP DrinkWat DrinkWatP\n1    0.00000  293.8420  41.44786  999.0182  57.7125 177.3831  5.907331\n2    0.00000  681.0703  57.65191 1051.9778  61.2250 312.7169 25.939803\n3   22.58621 1557.6400  74.05601  874.8193  49.5000 332.6654 32.284251\n4    0.00000 1349.2300  70.69267 1169.7532  67.4250 332.6654 32.284251\n5    0.00000 1889.5133  78.03201 1383.9867  74.9500 332.6654 32.284251\n6    0.00000 1589.1400  74.44361 1025.2790  59.5750 332.6654 32.284251\n       Lead    Lead_P Cleanup  CleanupP GWThreat GWThreatP HazWaste HazWasteP\n1 18.450498 10.737240     0.0  0.000000      0.0  0.000000    0.280  46.80344\n2  9.898042  3.730309     0.0  0.000000      0.0  0.000000    0.280  46.80344\n3 14.263664  6.830498     4.5 40.836133      2.0 14.311805    0.150  26.67108\n4  5.594984  1.600504     0.0  0.000000      0.5  2.722896    0.210  37.68365\n5 16.777373  9.061122     0.0  0.000000      7.5 39.448780    0.395  60.22502\n6 12.086059  5.343415     0.7  9.593132      2.0 14.311805    0.100  16.63799\n  ImpWatBod ImpWatBodP SolWaste SolWasteP PollBurd PolBurdSc PolBurdP Asthma\n1         7   66.73667        0   0.00000 30.50123  3.724194 18.95457  21.70\n2         7   66.73667        2  52.89805 35.23480  4.302163 29.71998  21.74\n3         8   72.15456        0   0.00000 35.68847  4.357555 30.77785  14.93\n4         6   58.69383        0   0.00000 30.97653  3.782228 19.87554  10.33\n5         2   23.87652        2  52.89805 39.48486  4.821094 41.44368  13.88\n6         3   33.15834        2  52.89805 32.98028  4.026885 24.04480  10.51\n     AsthmaP LowBirtWt   LowBirWP Cardiovas CardiovasP Educatn     EducatP\n1 11.2786640      4.45 37.2337696      9.74 27.5049850     1.0    1.771703\n2 11.3908275      3.50 16.2176033      8.72 18.8310070     8.4   35.876993\n3  3.7263210      1.18  0.2950988      5.41  1.8569292  -999.0 -999.000000\n4  0.9845464      5.39 61.9450860      4.46  0.3988036     2.0    5.859276\n5  2.7542373      2.86  7.6597383      5.43  1.9192423     3.7   14.781068\n6  1.0343968      4.64 42.1991275      4.65  0.4860419     0.0    0.000000\n  Ling_Isol Ling_IsolP Poverty  PovertyP Unempl     UnemplP HousBurd HousBurdP\n1       1.1   7.375829    20.0 34.208543    3.0   17.113483     19.9 62.420786\n2       4.4  33.942347    12.9 16.821608    2.6   11.868818     19.5 60.925222\n3       0.0   0.000000     9.5  8.982412    0.9    1.145237     14.5 35.817490\n4       3.9  30.694275     6.9  4.170854    2.6   11.868818      8.5  8.504436\n5       5.0  37.664095    12.3 15.326633    4.0   30.882353     18.9 58.225602\n6       1.0   6.266071    11.5 13.517588 -999.0 -999.000000     14.8 37.477820\n    PopChar PopCharSc   PopCharP Child_10 Pop_10_64 Elderly65 Hispanic   White\n1 24.958604 2.5890185 13.2375189  10.9864   81.7696    7.2441  16.4662 63.2184\n2 23.683405 2.4567389 11.7750882  13.2812   61.9792   24.7396  22.0238 55.2455\n3  6.722867 0.6973798  0.2647504   5.9280   49.6471   44.4248   5.6104 89.6260\n4 16.664505 1.7286508  4.9167927   7.9657   67.7361   24.2982   4.4530 63.9331\n5 17.743511 1.8405788  5.8119012  10.4866   72.3224   17.1910   8.8488 82.0785\n6 14.444279 1.4983412  3.3787191  11.0311   68.4388   20.5301   3.8302 74.7664\n  AfricanAm NativeAm OtherMult Shape_Leng Shape_Area    AAPI\n1    4.9452   0.0000    3.6087   5604.596    1467574 11.7616\n2    1.3765   0.0000    3.5900   6244.598    2143255 17.7641\n3    0.3881   0.0000    1.4467   6803.947    2048571  2.9287\n4    0.0000   0.3042    6.0987  26448.643   18729420 25.2109\n5    0.0000   0.0000    1.1076  10964.108    4361037  7.9651\n6    0.2911   0.0000    0.8733   9833.066    5754643 20.2390\n                        geometry\n1 MULTIPOLYGON (((-117.7178 3...\n2 MULTIPOLYGON (((-117.7166 3...\n3 MULTIPOLYGON (((-117.8596 3...\n4 MULTIPOLYGON (((-117.7986 3...\n5 MULTIPOLYGON (((-117.8521 3...\n6 MULTIPOLYGON (((-117.8269 3...\n\n\n\n\n\n\n\n\nSometimes the data import messes up at the end of the dataset. A thorough scholar will use the tail function to check the bottom 5 rows as well.\n\n\n\nIn future classes, we may dive into the perilous world of file structures and directories. However, that is unfun, unrewarding, and gruesomely detail oriented, so we‚Äôll avoid it for now.\n\n2.2.3 Creating a New Geospatial Dataset\nIn addition to importing data, sometimes we just to create our own dataset. Let‚Äôs demonstrate how to create a very simple data frame in R for the latitude and longitude of a couple different locations we want to put on a map.\nI want to show the location of this classroom at the Redford Conservancy and the neighborhood where I live.\nI can use Google Earth or similar websites to get the latitude and longitude data. Latitude is North and South. Longitude is East and West.\n\nThe Redford Conservancy is at 34.1100576 N and -117.710074 W.\nMy zip code 92508 has a centroid at 33.8895145 N and -117.319014 W.\n\nThe code below will create a data frame which is an R data structure that has rows and columns. A data frame is a generic data object that can store tabular data of many different types.\nWe‚Äôll use two base R functions to create the data frame, c() and data.frame().\n\n\nc() - this function concatenates data. It is used to create a list.\n‚Äôdata.frame()` - this function turns a list (or lists) into a data.frame type.\n\nWe assign latitude values to a variable named lat, and a longitude values to a variable named lng. We use c() because we have multiple values that we want to include. We combine them into the locations data.frame. Then we check it worked by typing locations.\n\nlat &lt;- c(34.1100576, 33.8895145)\nlng &lt;- c(-117.710074, -117.319014)\n\nlocations &lt;- data.frame(lat, lng) \nlocations\n\n       lat       lng\n1 34.11006 -117.7101\n2 33.88951 -117.3190\n\n\n\n2.2.3.1 Exercise 1\n\nFind another location‚Äôs latitude and longitude coordinates that you want to add to a map.\nHack the code to add your location of interest to the two existing locations data.frame.\nDisplay the output of the locations data.frame to show that your code worked!"
  },
  {
    "objectID": "maps1.html#visualize-the-data---geospatial-edition",
    "href": "maps1.html#visualize-the-data---geospatial-edition",
    "title": "2¬† Introduction to Spatial Visualization - 1",
    "section": "\n2.3 Visualize the Data - Geospatial Edition",
    "text": "2.3 Visualize the Data - Geospatial Edition\n\n2.3.1 Choose the visualization type\nWe‚Äôll be exploring leaflet() maps for our visualizations. Leaflet has a number of in-built display functions for geospatial data that make things look really cool. I will note that ggplot can make maps too with geom_sf() and other functionality, but I prefer the leaflet tiles for interactive maps as a superior visualization tool.\n\n2.3.2 Choose the visualization function\n\n\nleaflet()\n\naddTiles()\naddMarkers()\naddPolygons()\naddLegends()\n\n\n\nWe‚Äôll apply leaflet() to every visualization for geospatial data today, and add at least one add function to display spatial information.\n\n2.3.3 Write the code for a basic geospatial visualization\nLeaflet is a super cool package for making interactive maps with very few lines of code. As before let‚Äôs start with basics and then iterate.\nNote that Leaflet has a different style and coding aesthetic than ggplot, so some of the syntax and grammar is a bit different. However, the steps are the same as for ggplot.\n\nAdd a verb or two for an action - usually this is the function.\nAdd an object to apply the action to - this is usually the dataframe, but can be a list or another type of data object.\nAdd adjectives and adverbs to modify the action or the object\n\n\n2.3.3.1 Example 1 - Basic Tile Map\nFigure¬†2.2 shows the standard leaflet map with a minimal reproducible example. This map shows the whole world in a Mercator projection. The map is interactive, just like most of the maps you come across in standard apps and websites on the modern internet. You can zoom in and see the details of an area like Los Angeles, with all the annotation and standard roads, forests, city names, etc.\nThe code is simply two lines with two actionable functions.\n\n\nleaflet() - this function identifies the type of visualization.\n\naddTiles() - this function tells the leaflet map to display the default visualization ‚Äòtile‚Äô. Tiles are the way geospatial data are rendered depending on the zoom level that makes it work for not displaying too much detail as you zoom out.\n\n\nleaflet() |&gt; \n  addTiles()\n\n\nFigure¬†2.2: A very basic Leaflet map\n\n\nA map is useful by itself, but we have not added any information to it. A map alone is not going to be useful as a visualization unless we add some data.\n\n2.3.3.2 Example 2. Tile Map with Location Markers\nRemember that locations data frame we created earlier. Let‚Äôs add that to the map.\naddMarkers() is a useful function to add point data to a map.\nFigure¬†2.3 shows the map with my two locations on it added as markers. We added another line of code with a pipe operator to put the locations data on the map.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addMarkers(data = locations)\n\n\nFigure¬†2.3: Leaflet map with locations\n\n\nWhoot! A map with locations! And now the spatial extent of the map defaults to just show an area that encompasses the markers in the locations dataset. If your location that you added to the dataset happens to be outside California, your map will be zoomed way out compared to someone who only includes locations in SoCal.\n\n\n\n\n\n\nI purposely made the column names lat and lng because then we don‚Äôt have to assign those variables in the addMarkers call. If your columns are named something else (e.g., Lati or long), leaflet will need to be told that those are the correct columns to look for.\n\n\n\n\n2.3.3.3 Example 3. North Carolina Counties on a Tile Map\nGoing beyond point locations, geospatial data really shines when we display shapes. We‚Äôll start by displaying the nc dataframe.\naddPolygons() is the function used to display polygons.\nFigure¬†2.4 shows the North Carolina counties.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc)\n\n\nFigure¬†2.4: Leaflet map with North Carolina Counties\n\n\nWe have done it!\n\n2.3.3.4 Exercise 2\n\nMake a leaflet map with the SoCalEJ dataset. It should look like Figure¬†2.5.\n\n\n\n\nFigure¬†2.5: Leaflet map with Calenviroscreen 4.0\n\n\n\n2.3.4 Improve the Visualization\nThe basic visualization is in need of some improvement. First let‚Äôs explore colors, fillcolors, stroke, and opacity.\nWithin the addPolygons() function, there are many options that can be modified to alter the output from the default settings. We won‚Äôt cover all these options today.\n\ncolor\nweight\nopacity\nfillColor\nfillOpacity\nstroke\ngroup\nlabel\n\nLet‚Äôs iterate and make some improvements!\nFigure¬†2.6 shows what happens we just change the color from blue to black. Both the fill and line color are changed.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc, color = 'black')\n\n\nFigure¬†2.6: Leaflet map with North Carolina Counties and color changed to black\n\n\nThe lines are too heavy. Let‚Äôs lower the weight - we‚Äôll let the color go back to blue to keep the example minimal.\nFigure¬†2.7 shows the result, which is a much cleaner look.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc, weight = 1)\n\n\nFigure¬†2.7: Leaflet map for North Carolina Counties with line weight changed to 1.\n\n\nMuch better!\nWithin the North Carolina dataset are some numerical values by county. Let‚Äôs use fillcolor the counties to indicate the values.\nUnfortunately, leaflet requires us to do a bit of coding on our color palette.\nFunctions that help define the color palette in leaflet are\n\n\ncolorNumeric() - a linear color scale\n\ncolorQuantile() - a color scale that makes sure the bin sizes are approximately equal\n\ncolorFactor() - a color scale that is good for categorical (‚Äònon-numeric‚Äô) data\n\nThis creates a numeric color palette for the BIR79 category of data for North Carolina in a numeric and quantile format. I have chosen the YlGn palette from Figure¬†1.6.\n\npal1 &lt;- colorNumeric(palette = 'YlGn', domain = nc$BIR79)\npal2 &lt;- colorQuantile(palette = 'YlGn', domain = nc$BIR79, n = 5)\n\nNow we see what those two palettes look like in the map. Figure¬†2.8 shows the default numeric palette, but it is too faint with the background tiles.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc,\n              weight = 1,\n              fillColor = ~pal1(BIR79))\n\n\nFigure¬†2.8: Leaflet map for North Carolina Counties with numeric palette for BIR79 and line weight = 1.\n\n\nIncreasing the fillOpacity to 0.8 will help us to see the data much better. Also, let‚Äôs remove the lines completely by setting stroke to FALSE. Figure¬†2.9 shows\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc,\n              stroke = FALSE,\n              fillColor = ~pal1(BIR79),\n              fillOpacity = 0.8)\n\n\nFigure¬†2.9: Leaflet map for North Carolina Counties with numeric palette for BIR79, increasing opacity, removing lines.\n\n\nThat has a much better pop and we can really see the county differences in the high and low population areas.\nFigure¬†2.10 shows the quantile binned palette pal2. Now the number of counties in each color bin is about the same, which helps to sort the differences among the lowest population counties.\n\nleaflet() |&gt; \n  addTiles() |&gt; \n  addPolygons(data = nc, \n              stroke = FALSE,\n              fillColor = ~pal2(BIR79),\n              fillOpacity = 0.8)\n\n\nFigure¬†2.10: Leaflet map for North Carolina Counties with quantile palette for BIR79, opacity optimized, and lines removed.\n\n\n\n2.3.5 Exercise 3\n\nSelect a different color palette from Figure¬†1.6 to replace ‚ÄòYlGn‚Äô in pal1.\nGenerate a North Carolina map with your choice of color palette for the BIR79 category.\n\n\n2.3.5.1 Adding a Legend\nThe existing map is not bad, but the color scale is not self-explanatory. We need to add a legend so a user can understand the data scale.\naddLegend() will provides that functionality.\nFigure¬†2.11 shows the legend overlay with the map. Note that we need to either move the data = nc into the initial call to leaflet() or define it separately in both the addPolygons and addLegend functions.\nThe addLegend polygon require the inputs for pal and values. Defining the color palette pal1 and the values of the scale ~BIR79 are required. The title is optional, but the scale doesn‚Äôt make much sense without a description.\n\nleaflet(data = nc) |&gt; \n  addTiles() |&gt; \n  addPolygons(stroke = FALSE,\n              fillColor = ~pal1(BIR79),\n              fillOpacity = 0.8) |&gt; \n  addLegend(pal = pal1, \n            title = 'Births in 1979', \n            values = ~BIR79)\n\n\nFigure¬†2.11: Leaflet map for North Carolina Counties with numeric palette for BIR79, color legend, opacity optimized, and lines removed.\n\n\n\n2.3.5.2 Exercise 4\n\nCreate a colorPalette for a SoCalEJ dataset variable. Choose one of the following numerical variables and a colorPalette from Figure¬†1.6\n\n\n\nPoverty\nHispanic\nAfricanAm\nOzone\nDieselPM_P\n\n\nCreate a map for the SoCalEJ dataset with census tracts color coded for your chosen category of the following categories:\nAdd a Legend to the map\n\nThat map might look like Figure¬†2.12.\n\npalDPM &lt;- colorNumeric(palette = 'YlOrBr', domain = SoCalEJ$DieselPM_P, n = 5)\n\nleaflet(data = SoCalEJ) |&gt; \n  addTiles() |&gt; \n  setView(lat = 34, lng = -117.60, zoom = 9) |&gt; \n  addPolygons(stroke = FALSE,\n              fillColor = ~palDPM(DieselPM_P),\n              fillOpacity = 0.8) |&gt; \n  addLegend(pal = palDPM, \n            title = 'Diesel Particulate Matter (%)', \n            values = ~DieselPM_P)\n\n\nFigure¬†2.12: Leaflet map for Diesel PM percentile in Southern California"
  },
  {
    "objectID": "maps2.html#load-and-install-packages",
    "href": "maps2.html#load-and-install-packages",
    "title": "3¬† Introduction to Spatial Visualization 2",
    "section": "\n3.1 Load and Install Packages",
    "text": "3.1 Load and Install Packages\nLoad the tidyverse and sf. Today we will be making static maps in ggplot which is part of the tidyverse ecosystem. We need the sf package to load, transform, and display geospatial data.\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.2     ‚úî readr     2.1.4\n‚úî forcats   1.0.0     ‚úî stringr   1.5.0\n‚úî ggplot2   3.4.2     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.2     ‚úî tidyr     1.3.0\n‚úî purrr     1.0.1     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)\n\nLinking to GEOS 3.9.3, GDAL 3.5.2, PROJ 8.2.1; sf_use_s2() is TRUE"
  },
  {
    "objectID": "maps2.html#acquire-data",
    "href": "maps2.html#acquire-data",
    "title": "3¬† Introduction to Spatial Visualization 2",
    "section": "\n3.2 Acquire Data",
    "text": "3.2 Acquire Data\nImport the nc and SoCalEJ datasets again. Refer to Chapter¬†2 for details on functions.\n\nnc &lt;- st_read(system.file(\"shape/nc.shp\", package=\"sf\")) |&gt; \n  st_transform(\"+proj=longlat +ellps=WGS84 +datum=WGS84\")\n\nReading layer `nc' from data source \n  `C:\\Users\\MichaelMcCarthy\\AppData\\Local\\R\\win-library\\4.2\\sf\\shape\\nc.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 100 features and 14 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965\nGeodetic CRS:  NAD27\n\ntail(nc)\n\nSimple feature collection with 6 features and 14 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -79.07426 ymin: 33.88212 xmax: -76.28737 ymax: 35.01676\nGeodetic CRS:  +proj=longlat +ellps=WGS84 +datum=WGS84\n     AREA PERIMETER CNTY_ CNTY_ID        NAME  FIPS FIPSNO CRESS_ID BIR74 SID74\n95  0.125     2.868  2156    2156    Carteret 37031  37031       16  2414     5\n96  0.225     2.107  2162    2162      Bladen 37017  37017        9  1782     8\n97  0.214     2.152  2185    2185      Pender 37141  37141       71  1228     4\n98  0.240     2.365  2232    2232    Columbus 37047  37047       24  3350    15\n99  0.042     0.999  2238    2238 New Hanover 37129  37129       65  5526    12\n100 0.212     2.024  2241    2241   Brunswick 37019  37019       10  2181     5\n    NWBIR74 BIR79 SID79 NWBIR79                       geometry\n95      341  3339     4     487 MULTIPOLYGON (((-77.14865 3...\n96      818  2052     5    1023 MULTIPOLYGON (((-78.26123 3...\n97      580  1602     3     763 MULTIPOLYGON (((-78.02565 3...\n98     1431  4144    17    1832 MULTIPOLYGON (((-78.65546 3...\n99     1633  6917     9    2100 MULTIPOLYGON (((-77.96045 3...\n100     659  2655     6     841 MULTIPOLYGON (((-78.65546 3...\n\n\n\nURL.path &lt;- 'https://raw.githubusercontent.com/RadicalResearchLLC/EDVcourse/main/CalEJ4/CalEJ.geoJSON'\nSoCalEJ &lt;- st_read(URL.path) |&gt; \n  st_transform(\"+proj=longlat +ellps=WGS84 +datum=WGS84\")\n\nReading layer `CalEJ' from data source \n  `https://raw.githubusercontent.com/RadicalResearchLLC/EDVcourse/main/CalEJ4/CalEJ.geoJSON' \n  using driver `GeoJSON'\nSimple feature collection with 3747 features and 66 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 97418.38 ymin: -577885.1 xmax: 539719.6 ymax: -236300\nProjected CRS: NAD83 / California Albers\n\ntail(SoCalEJ)\n\nSimple feature collection with 6 features and 66 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -118.2062 ymin: 33.96317 xmax: -117.9014 ymax: 34.16102\nGeodetic CRS:  +proj=longlat +ellps=WGS84 +datum=WGS84\n          Tract   ZIP      County    ApproxLoc TotPop19  CIscore CIscoreP\n3742 6037400602 91702 Los Angeles        Azusa     4250 32.63778 63.50227\n3743 6037430302 91016 Los Angeles     Monrovia     5339 17.12483 30.61019\n3744 6037430723 91007 Los Angeles      Arcadia     4365 13.84199 22.56682\n3745 6037431100 91016 Los Angeles     Monrovia     6758 39.69785 74.50832\n3746 6037533603 90201 Los Angeles         Bell     6986 62.93104 97.04992\n3747 6037534101 90201 Los Angeles Bell Gardens     2358 63.31505 97.22642\n          Ozone   OzoneP    PM2_5  PM2_5_P   DieselPM DieselPM_P Pesticide\n3742 0.06236471 88.69944 11.32762 58.23273 0.25141035   70.16801   0.00000\n3743 0.06236471 88.69944 11.87334 72.10952 0.03484052   12.43311   0.00000\n3744 0.05938691 79.98755 11.81607 70.24269 0.05856793   21.30678   0.00000\n3745 0.06133785 84.57996 11.89265 72.90604 0.52993389   90.91475   0.00000\n3746 0.04632538 46.99440 12.01973 79.45240 0.11636699   42.26509   0.00000\n3747 0.04716458 50.54138 12.02588 79.77598 0.89400714   97.51089  25.17289\n     PesticideP  Tox_Rel Tox_Rel_P   Traffic TrafficP DrinkWat DrinkWatP\n3742    0.00000 1128.208  66.72918  515.5913  22.0875 365.8082  37.91682\n3743    0.00000 1235.359  69.21730  471.5739  18.7625 570.8214  66.86649\n3744    0.00000 1324.937  70.43011 1003.0337  57.9875 667.6980  73.14850\n3745    0.00000 1575.716  74.35609 1560.1642  79.2625 497.7552  60.33471\n3746    0.00000 4435.870  91.04776 1071.6749  62.4000 639.0632  71.36256\n3747   67.58621 4409.633  90.89772 3653.6009  98.0750 514.1607  61.83340\n         Lead   Lead_P Cleanup  CleanupP GWThreat GWThreatP HazWaste HazWasteP\n3742 59.07638 64.54946    3.00 31.243001    46.85  89.10842    0.460  66.60490\n3743 71.04484 80.34026    1.40 19.914147     1.80  11.30666    0.320  52.64064\n3744 50.87304 52.71582    0.40  5.636432     5.00  30.88162    0.150  26.67108\n3745 54.59725 57.99622   43.50 94.438223    36.75  84.14411    1.885  92.15089\n3746 87.11610 94.82042   14.65 74.300112    17.05  63.42354    0.375  58.80874\n3747 90.85649 97.39130   20.35 82.232176    15.00  59.60485    1.110  86.60490\n     ImpWatBod ImpWatBodP SolWaste SolWasteP PollBurd PolBurdSc PolBurdP Asthma\n3742         0    0.00000     0.00  0.000000 46.49568  5.677114 60.95831  71.92\n3743         3   33.15834     0.25 11.592211 42.60985  5.202654 50.36714  48.33\n3744         0    0.00000     0.00  0.000000 39.69752  4.847059 42.02862  18.84\n3745         2   23.87652     8.75 87.949599 68.86648  8.408583 97.88426  46.90\n3746         7   66.73667     2.00 52.898053 61.77303  7.542474 93.03049  54.25\n3747         7   66.73667     0.20  9.667812 73.95742  9.030186 99.39017  52.71\n       AsthmaP LowBirtWt  LowBirWP Cardiovas CardiovasP Educatn  EducatP\n3742 79.847956      5.09 54.849885     17.02   76.34596    14.1 53.40420\n3743 53.950648      2.72  6.209905     11.22   39.70588     6.4 27.61326\n3744  7.614656      3.48 15.871183      7.73   11.83948     4.5 18.80537\n3745 51.856929      3.91 24.570182     10.87   36.88933    16.0 57.61832\n3746 62.076271      5.87 72.478830     23.93   96.68495    42.6 91.88813\n3747 59.895314      2.87  7.775212     23.15   95.45115    46.0 94.25462\n     Ling_Isol Ling_IsolP Poverty PovertyP Unempl   UnemplP HousBurd HousBurdP\n3742       5.6   40.89863    24.0 42.61307    2.9 15.838105     17.1  49.72117\n3743       7.0   48.72107    18.9 31.73367    1.2  1.900052     15.4  40.89987\n3744      13.6   73.09514    23.2 41.03015    4.0 30.882353     17.7  52.61090\n3745      10.1   62.24117    32.2 57.29899    6.2 59.383134     13.3  29.72117\n3746      21.7   88.69942    59.9 91.55779    9.1 82.326913     20.4  64.46134\n3747      11.7   67.72229    56.1 88.31658    9.3 83.224883     22.0  70.53232\n      PopChar PopCharSc PopCharP Child_10 Pop_10_64 Elderly65 Hispanic   White\n3742 55.42148  5.749009 58.49723  13.3882   74.3294   12.2824  68.1412 20.7294\n3743 31.73120  3.291557 22.33989   9.7584   72.7664   17.4752  28.7132 53.3995\n3744 27.52994  2.855750 16.50277  12.0504   77.4570   10.4926  10.9507 26.3918\n3745 45.51235  4.721110 43.58296  11.2607   81.4442    7.2951  58.2273 16.1438\n3746 80.43337  8.343554 92.93999  18.4226   72.1586    9.4188  91.4114  6.9425\n3747 67.59201  7.011489 76.72718  14.8431   75.0636   10.0933  91.0941  1.3147\n     AfricanAm NativeAm OtherMult Shape_Leng Shape_Area    AAPI\n3742    2.0941   0.3529    0.8941   6661.381  1537875.2  7.7882\n3743    1.5733   0.0000    7.1549   7166.131  1938015.8  9.1590\n3744    3.3677   0.0000    3.3677   3941.782   485563.0 55.9221\n3745    8.9967   0.0000    1.1098   8020.091  3015660.7 15.5223\n3746    0.6728   0.2577    0.7157   4949.117   811895.5  0.0000\n3747    1.9084   0.0000    0.0000   4420.127   509871.8  5.6828\n                           geometry\n3742 MULTIPOLYGON (((-117.9024 3...\n3743 MULTIPOLYGON (((-117.9917 3...\n3744 MULTIPOLYGON (((-118.0496 3...\n3745 MULTIPOLYGON (((-117.9987 3...\n3746 MULTIPOLYGON (((-118.1874 3...\n3747 MULTIPOLYGON (((-118.1636 3...\n\n\n\n3.2.1 Create a Locations Table\nI want to show the location of this classroom and the neighborhood where I live. Let‚Äôs add locations again.\n\nlat &lt;- c(34.1100576, 33.8895145)\nlng &lt;- c(-117.710074, -117.319014)\n\nlocations &lt;- data.frame(lat, lng) \nlocations\n\n       lat       lng\n1 34.11006 -117.7101\n2 33.88951 -117.3190"
  },
  {
    "objectID": "maps2.html#visualize-the-data---geospatial-ggplot-edition",
    "href": "maps2.html#visualize-the-data---geospatial-ggplot-edition",
    "title": "3¬† Introduction to Spatial Visualization 2",
    "section": "\n3.3 Visualize the Data - Geospatial ggplot Edition",
    "text": "3.3 Visualize the Data - Geospatial ggplot Edition\nWhile the tidyverse doesn‚Äôt have all the features of leaflet, it can be a quick way to visualize geospatial data for static maps and there are times when adding a static ggplot map is sufficient and actually preferred to the more detailed leaflet maps.\nLet‚Äôs do a few example ggplot maps.\n\n3.3.1 Visualization functions\n\n\nggplot()\n\n\ngeom_sf() - display sf spatial data\n\ntheme_bw() - a cleaner background and visualization than default gray background for ggplot\n\n\ntheme_minimal() - minimalist theme\n\n\n\n3.3.2 Make a basic visualization\nStart with the North Carolina data and make a basic ggplot and geom_sf map as shown in Figure¬†3.2.\n\nggplot(data = nc) + \n  geom_sf()\n\n\n\nFigure¬†3.2: ggplot map for North Carolina counties\n\n\n\nNote that ggplot uses + rather than the magrittr |&gt; for connecting lines of code.\nIn contrast to the leaflet map, the ggplot defaults to showing the x- and y-axis coordinates (latitude and longitude), shows guidelines, and only draws the counties in the dataset, rather than defaulting to showing an interactive map.\nFigure¬†3.3 shows the same style of map replacing nc with SoCalEJ.\n\nggplot() + \n  geom_sf(data = SoCalEJ) \n\n\n\nFigure¬†3.3: ggplot map for census tracts in Inland SoCal counties\n\n\n\n\n3.3.3 Improve the Visualization\nWe have many options to improve a ggplot visualization. Let‚Äôs start by cleaning up the background using theme_bw(). theme_bw() changes the background from gray to a cleaner black-white style as shown in Figure¬†3.4.\n\nggplot() + \n  geom_sf(data = nc) +\n  theme_bw()\n\n\n\nFigure¬†3.4: ggplot map for North Carolina counties using theme_bw()\n\n\n\nWe can apply a minimalist aesthetic by choosing theme_minimal() as shown in Figure¬†3.5\n\nggplot() + \n  geom_sf(data = nc) +\n  theme_minimal()\n\n\n\nFigure¬†3.5: ggplot map for North Carolina counties using theme_bw()\n\n\n\nLet‚Äôs add colors in a ggplot way.\nUse aes(fill = &lt;VARIABLE NAME&gt;) to assign a category to color the counties by. The color palette to fill with is selected in scale_fill_&lt;TYPE&gt; where TYPE can be any of the following categories\n\nbinned\nbrewer\ncontinuous\ndate or datetime\ndiscrete\nfermenter\nviridis\n\nFirst let‚Äôs use the default palette for BIR79 to show the county birthrates in 1979. Adding fill = BIR79 to the aes() defaults to the Blues palette. Figure¬†3.6 shows the result of adding a fill color scale.\n\nggplot() + \n  geom_sf(data = nc, aes(fill = BIR79)) +\n  theme_bw() \n\n\n\nFigure¬†3.6: ggplot map for North Carolina counties using theme_bw() with fill\n\n\n\nLet‚Äôs change that to a viridis color scale. The function scale_fill_viridis_c() adds a fancier color-blind viridis palette in a continuous scale. Figure¬†3.7 shows this color scale option.\n\nggplot() + \n  geom_sf(data = nc, aes(fill = BIR79)) +\n  theme_bw() +\n  scale_fill_viridis_c()\n\n\n\nFigure¬†3.7: ggplot map for North Carolina counties using theme_bw() with viridis\n\n\n\nWe can also add other geoms, like points or labels to this map. Let‚Äôs try to label the counties.\nThe nc dataset has a variable called NAME for the county names. Figure¬†3.8 shows the figure when we add the county names using the function geom_sf_text().\n\nggplot(data = nc) + \n  geom_sf(aes(fill = BIR79)) +\n  geom_sf_text(aes(label = NAME), size = 1.5, color = 'white') +\n  theme_bw() +\n  scale_fill_viridis_c()\n\nWarning in st_point_on_surface.sfc(sf::st_zm(x)): st_point_on_surface may not\ngive correct results for longitude/latitude data\n\n\n\n\nFigure¬†3.8: ggplot map for North Carolina counties with names overlaid\n\n\n\nThere is a lot going on in that function. I made the text white color = ‚Äòwhite‚Äô, the size of the font 1.5 size = 1.5, and added the label aesthetic with aes(label = NAME). If you remove the size or the color, you can see why those alterations were made.\n\n3.3.3.1 Exercise - Improve the SoCalEJ Visualization\n\nAdd a different theme from one of the theme options\n\nShow a variable (categorical, continuous, or quantile) using a fill option.\nAdd two or more SoCal locations to the map using geom_point and your locations table. If that is easy, try increasing the salience of the points through size, color, or shape modifications to that layer.\n\nFigure¬†3.9 shows a potential example of what that might look like.\n\n\n\n\nFigure¬†3.9: ggplot map for SoCal Diesel PM Percentile\n\n\n\nIt is really hard to see the details here. Let‚Äôs learn one last trick to zoom in on a ggplot to adjust the axes. The scale_x_continuous() and scale_y_continuous() functions allow us to set different axis limits. Figure¬†3.10 shows the\n\nggplot() + \n  geom_sf(data = SoCalEJ, aes(fill = DieselPM_P)) +\n  geom_point(data = locations,  aes(x = lng, y = lat), color = 'orange') +\n  theme_bw() +\n  scale_fill_viridis_c(option = 'A', direction = -1) +\n  scale_x_continuous(limits = c(-118, -117)) +\n  scale_y_continuous(limits = c(33.7, 34.2))\n\n\n\nFigure¬†3.10: ggplot map for SoCal Diesel PM Percentile zoomed into Claremont and Ontario.\n\n\n\n```"
  },
  {
    "objectID": "chartJunk.html#chartjunk",
    "href": "chartJunk.html#chartjunk",
    "title": "4¬† Chartjunk, Data-Ink Ratios, and Visualization Theory",
    "section": "4.1 Chartjunk",
    "text": "4.1 Chartjunk\nChart Junk is a term first used by Edward Tufte in his book The Quantitative Display of Visual Information. He defined it as:\n\n\n\n\n\n\nThe interior decoration of graphics generates a lot of ink that does not tell the viewer anything new. The purpose of decoration varies-to make the graphic appear more scientific and precise, to enliven the display, to give the designer an opportunity to exercise artistic skills. Regardless of its cause it is all non-data-ink or redundant data-ink, and it is often chartjunk.\n\n\n\nIn other words, Tufte believes that embellishment, decoration, and ornamentation is typically bad in a data visualization. While I can talk about this, it is better to just show examples of chartjunk.\nJust do an image search for chartjunk in your browser. Here‚Äôs a few examples.\nFigure¬†4.1 shows a very simple bar chart with lots of colors, patterns, and\n\n\n\nFigure¬†4.1: Mario looking bar chart\n\n\nFigure¬†4.2 shows a price line chart embellished with a decorative reclining lady. This is what Tufte calls a Duck - elevating design over data.\n\n\n\nFigure¬†4.2: Infamous diamonds line\n\n\nFigure¬†4.3 shows a pie chart of video analysis by medical professionals. Only three values are shown, yet there is a flourish of colors, cartoons, clipart, and embellishment.\n\n\n\nFigure¬†4.3: Pie Chartjunk\n\n\nTufte was pretty crufty about anything that was not minimalist. He is an pro-modernist design and anti-baroque design. And there is some research that suggests more ornamented and interesting visualizations stick with people longer than minimal designs."
  },
  {
    "objectID": "chartJunk.html#data-ink-ratios",
    "href": "chartJunk.html#data-ink-ratios",
    "title": "4¬† Chartjunk, Data-Ink Ratios, and Visualization Theory",
    "section": "4.2 Data-Ink Ratios",
    "text": "4.2 Data-Ink Ratios\nThe second Tufte-ism is the ratio of data-ink. This is a quantitative measure indicating the amount of ‚Äòink‚Äô used to convey data/information in a visualization. Any ‚Äòink‚Äô not conveying information is considered superfluous and redundant.\n\n\n\nData Ink Ratio\n\n\nA simple example from the tidyverse would be to compare the default theme for a ggplot() with theme_bw() or theme_minimal().\nHere‚Äôs Figure 5-2 with the default theme. Notice all that background ‚Äòink‚Äô in gray.\nTufte would definitely prefer Figure 5-5 where we removed all that background and even the frame around the outside of the map.\nThis is an aesthetic preference, especially in the modern era where almost all of the visualization we engage with is on a computer/tablet/phone. There is no amount of pixel-ink that is consumed. And in some cases the brightness of a white background may be antithetical and harmful, such as in the ProPublica Sacrifice Zone visualizations as shown in Figure 17.2."
  },
  {
    "objectID": "chartJunk.html#what-makes-a-map-in-leaflet-bad",
    "href": "chartJunk.html#what-makes-a-map-in-leaflet-bad",
    "title": "4¬† Chartjunk, Data-Ink Ratios, and Visualization Theory",
    "section": "4.3 What makes a map in leaflet bad?",
    "text": "4.3 What makes a map in leaflet bad?\nMost of the teams are using leaflet maps. What things in leaflet look bad and don‚Äôt work?\nDiscuss"
  },
  {
    "objectID": "chartJunk.html#class-exercise---work-on-group-visualization",
    "href": "chartJunk.html#class-exercise---work-on-group-visualization",
    "title": "4¬† Chartjunk, Data-Ink Ratios, and Visualization Theory",
    "section": "4.4 Class Exercise - work on group visualization",
    "text": "4.4 Class Exercise - work on group visualization\nHere‚Äôs a framework for the final group visualization from the Junk Charts Blog\n\nWhat is the practical question?\nWhat does the data you have say about the question?\nWhat do the individual visualizations say?\n\nI would add:\n\nWho is the audience for the visualization?"
  },
  {
    "objectID": "assignment1.html#graded-assignment---visualization-critique-paper",
    "href": "assignment1.html#graded-assignment---visualization-critique-paper",
    "title": "5¬† Assignments for Unit 1",
    "section": "\n5.1 Graded Assignment - Visualization Critique Paper",
    "text": "5.1 Graded Assignment - Visualization Critique Paper\nChoose a environmental data visualization. This can include static figures, interactive graphics, infographics, apps, videos, animations, etc. Please get approval from Mike if you are choosing something that may not meet a standard definition of an environmental data visualization.\nWrite a two-page paper (12-point font or less) describing the visualization and salient features that you think are interesting and noteworthy. Include a picture or link to your chosen visualization (does not count towards 2-page minimum). In your critique, please include ten individual points that fit into at least one of these categories. Include at least 3 of these categories in your paper.\n\nThings that you like, or think are done well\nThings that you dislike, or think are done poorly\nImprovements you would make to the visualization (can be additions or subtractions from features in the visualization)\nFeatures that provide interesting structure to the data and make it more informative\nFeatures that you find aid in communicating knowledge or help tell the story.\n\nAssignment is due February 3, 2023 at the beginning of class (9:45 AM). Assignments can be emailed or physically turned in. This assignment is worth 150 points. Spelling, grammar, and sentence structure will be a minor component of the score (~10 points)."
  },
  {
    "objectID": "syllabus.html#course-description",
    "href": "syllabus.html#course-description",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.1 Course Description",
    "text": "A.1 Course Description\nThis is an introductory course on the theory and practice of effective communication with quantitative data. This course will introduce the theory of data visualization, discuss the ethics of data visualization, provide hands-on training in acquiring, tidying, and visualizing quantitative environmental data, and critically examine current environmental justice tools (CalEnviroScreen, EPA‚Äôs EJScreen, EPA‚Äôs EnviroAtlas)."
  },
  {
    "objectID": "syllabus.html#course-materials",
    "href": "syllabus.html#course-materials",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.2 Course Materials",
    "text": "A.2 Course Materials\nGo here to see all course materials.\nThe course materials are built using the quarto environment which is R Markdown adjacent, but allows a user to embed functional code in R, Python, Julia, and/or Observable JS.\nAll code used is on github\nAny readings assigned will be emailed to students and/or posted to Box for download. Box will be linked within the course materials for assignments.\n\n\n\n\n\n\nCourse layout and materials listed on course materials page are subject to change due to shifting conditions that occur during the course of the semester. I will update course materials on a weekly basis to reflect the changing conditions and expectations throughout the semester."
  },
  {
    "objectID": "syllabus.html#course-goals-learning-objectives",
    "href": "syllabus.html#course-goals-learning-objectives",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.3 Course Goals & Learning Objectives",
    "text": "A.3 Course Goals & Learning Objectives\nUpon successful completion of this course, students will\n\nacquire critical thinking skills on the display of visual information\nimprove team-based collaboration abilities by working on group projects\nknow how to acquire, tidy, and summarize quantitative environmental datasets\ncreate graphs and maps in R\n\ncritically review current environmental justice tools such as CalEnviroScreen and EJScreen\n\nunderstand basic theory and ethics of environmental data visualization"
  },
  {
    "objectID": "syllabus.html#student-learning-outcomes",
    "href": "syllabus.html#student-learning-outcomes",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.4 Student Learning Outcomes",
    "text": "A.4 Student Learning Outcomes\n\nCritical Thinking, Quantitative Reasoning, and Effective Expression - Upon completion of this course, student‚Äôs will be able to critically examine the elements of environmental data visualization, create effective maps and graphs of environmental data, and effectively communicate environmental ideas in a quantitative visual manner. It will also focus on the theory and ethics of data visualization with readings and critical analysis of existing environmental justice tools.\nSocial Justice Theory - This course will identify and quantitatively explore the unequal distribution and access to natural resources (Environmental Justice) within California and the United States. Students will critically examine the ways Environmental Justice is currently characterized by government agencies and describe the types of data visualization used to quantitatively identify areas of disproportional impact and understand the limitations of existing tools in promoting effective change."
  },
  {
    "objectID": "syllabus.html#classroom-approach",
    "href": "syllabus.html#classroom-approach",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.5 Classroom Approach",
    "text": "A.5 Classroom Approach\nIn-person class time will include approximately 40% of time to devoted to lectures, 30% to hands-on coding and data visualization, and 30% to discussion."
  },
  {
    "objectID": "syllabus.html#assignments-and-activities",
    "href": "syllabus.html#assignments-and-activities",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.6 Assignments and Activities",
    "text": "A.6 Assignments and Activities\n\nClassroom participation during discussion sections\nClassroom participation during coding sessions\nAssigned reading (news and peer-review articles, online books)\nAssigned review of web tools (CalEnviroScreen, EJScreen, EnviroAtlas)\nGroup coding projects\nClass presentation on an environmental data visualization\nThree individual projects generating, displaying, or critiquing environmental data visualizations\nGroup project creating an environmental data visualization"
  },
  {
    "objectID": "syllabus.html#grading-and-assessment-breakdown",
    "href": "syllabus.html#grading-and-assessment-breakdown",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.7 Grading and Assessment Breakdown",
    "text": "A.7 Grading and Assessment Breakdown\nThe class will be based on a total of 1000 points.\n\nThe three individual projects displaying or reviewing environmental data will count for 150 points each (450 in total).\n\nA written and presnted critique of an existing environmental data visualization\nRemix of an environmental justice dataset from an existing EJ tool\nA student proposed and executed environmental data visualization (map, figure, infographic, interactive tool)\n\n\nThe group project displaying environmental data visualization will count for 250 points\nA group presentation on environmental data visualization in Environmental Justice tools will count for 150 points\nClassroom participation will count for 150 points throughout the course of the semester. These points will be awarded for attendance and active participation in classroom discussion and coding sessions. Online attendance and participation will count towards this activity in case of sickness or inability to attend in-person.\nMissing classroom discussion and coding sessions can be made up for 80% credit within two weeks or 50% credit within four weeks by attending online or in-person office hours.\nExtra credit - Identifying errors in course lectures, asking questions of guest speakers, and bringing snacks to enhance class morale can earn extra credit in 10 point chunks.\n\nStudents get a single free individual or group project that can be late by up to seven days from the due date. For the group project, if a member of the group has already used their individual free late project, the group cannot use other individual free periods. If any other project is late, scores will be reduced by 10% per day beyond the due date of the project.\nThe assigned presentation date requires a doctor‚Äôs note for an excused absence. If unexcused, the student can make up the presentation or final exam for 75% credit within one week of the assigned date.\nThis course will be attempting to engage in ungrading to give scholars more control over their own review of their progress and success in the class. The goal is for internal motivation and ownership of the definition of classroom success. In practice, ungrading is essentially an agreement to allow students to redo and resubmit assignments up until the last day of class. This requires students to communicate in writing that the intent is to resubmit an assignment within 10 days of receiving the initial grade. Late assignment penalties will still apply.\nTable¬†A.1\n\n\n\n\nTable¬†A.1: Breakdown of course points\n\nAssignments\nPoints\n\n\n\nGroup Project - data visualization\n250\n\n\nIndividual project 1 - written critique of existing visualization\n150\n\n\nIndividual Project 2 - - EJ tool remix\n150\n\n\nIndividual Project 3 - data visualization\n150\n\n\nGroup Presentation on EJ tools\n150\n\n\nClassroom participation\n150\n\n\nExtra Credit\n50"
  },
  {
    "objectID": "syllabus.html#office-hours",
    "href": "syllabus.html#office-hours",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.8 Office Hours",
    "text": "A.8 Office Hours\n\nTBD on Pitzer Zoom -\nMondays 9:00 - 9:30 (before class) - in RRC basement"
  },
  {
    "objectID": "syllabus.html#contact-info",
    "href": "syllabus.html#contact-info",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.9 Contact Info",
    "text": "A.9 Contact Info\nThe best way to get a hold of me is email: michael_mccarthy@pitzer.edu You are also likely to see emails from my regular email: mikem@radicalresearch.llc"
  },
  {
    "objectID": "syllabus.html#course-materials-1",
    "href": "syllabus.html#course-materials-1",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.10 Course materials",
    "text": "A.10 Course materials\nAll course materials will be hosted on github.\nGo here to see all course materials."
  },
  {
    "objectID": "syllabus.html#covid-policy",
    "href": "syllabus.html#covid-policy",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.11 COVID policy",
    "text": "A.11 COVID policy\nCOVID-19 safety guidelines and recommendations continue to evolve. Please read Pitzer‚Äôs Community Messages and FAQs and visit the Student Health Services (SHS) COVID page for the latest campus information and guidance.\n\n\nSneezeCFD\n\nAll applicable campus and LA County policies will apply in this class and I will follow them to the extent feasible. If mask wearing is optional under Pitzer and LA County guidelines, then it is in this classroom as well. If you need to sneeze, cover up with an elbow‚Ä¶\nIf we do have a COVID breakout or otherwise require hybrid/remote class environments through Zoom, I will post meeting links via email."
  },
  {
    "objectID": "syllabus.html#readings",
    "href": "syllabus.html#readings",
    "title": "Appendix A ‚Äî Course Syllabus",
    "section": "\nA.12 Readings",
    "text": "A.12 Readings\nThe theory of environmental data visualization will use selected readings assigned to students. Every other class will involve a discussion of an assigned reading or analysis of an environmental data visualization.\nAssigned readings will include selections from books, peer-review journal articles, websites, and newspaper articles. A selection of readings that are likely to be discussed in the course includes:\n\nSelections from Tufte‚Äôs book ‚ÄòThe Visual Display of Quantitative Information‚Äô (Tufte 2001)\n\nSelections from Tufte‚Äôs book ‚ÄòEnvisioning Information‚Äô (Tufte 2013)\n\nSelections from Hadley Wickham‚Äôs ‚ÄúGrammar of Graphics‚Äù with ggplot2, shiny, and other R packages. (Wickham et al. 2019)\n\nA selection of Peer-review journal articles listed in the references below. (Horton, Nowak, and Haegeli 2020; Kelleher and Wagener 2011; van Beek et al. 2020; Gommeh, Dijstelbloem, and Metze 2021; Murchie and Diomede 2020; Grainger, Mao, and Buytaert 2016)\n\nNewspaper articles such as the LA Times article by Professor Phillips on Inland Empire Warehouse growth (Facebook et al. 2022)\n\nReadings on the meaning, use, and technical limitations of Environmental Justice tools\n\n\n\n\n\nFacebook, Twitter, Show more sharing options, Facebook, Twitter, LinkedIn, Email, Copy Link URLCopied!, and Print. 2022. ‚ÄúOp-Ed: We Mapped the Warehouse Takeover of the Inland Empire. The Results Are Overwhelming.‚Äù Los Angeles Times. https://www.latimes.com/opinion/story/2022-05-01/inland-empire-warehouse-growth-map-environment.\n\n\nGommeh, Efrat, Huub Dijstelbloem, and Tamara Metze. 2021. ‚ÄúVisual Discourse Coalitions: Visualization and Discourse Formation in Controversies over Shale Gas Development.‚Äù Journal of Environmental Policy & Planning 23 (3): 363‚Äì80. https://doi.org/10.1080/1523908X.2020.1823208.\n\n\nGrainger, Sam, Feng Mao, and Wouter Buytaert. 2016. ‚ÄúEnvironmental Data Visualisation for Non-Scientific Contexts: Literature Review and Design Framework.‚Äù Environmental Modelling & Software 85 (November): 299‚Äì318. https://doi.org/10.1016/j.envsoft.2016.09.004.\n\n\nHorton, Simon, Stan Nowak, and Pascal Haegeli. 2020. ‚ÄúEnhancing the Operational Value of Snowpack Models with Visualization Design Principles.‚Äù Natural Hazards and Earth System Sciences 20 (6): 1557‚Äì72. https://doi.org/10.5194/nhess-20-1557-2020.\n\n\nKelleher, Christa, and Thorsten Wagener. 2011. ‚ÄúTen Guidelines for Effective Data Visualization in Scientific Publications.‚Äù Environmental Modelling & Software 26 (6): 822‚Äì27. https://doi.org/10.1016/j.envsoft.2010.12.006.\n\n\nMurchie, Karen J., and Dylan Diomede. 2020. ‚ÄúFundamentals of Graphic Designessential Tools for Effective Visual Science Communication.‚Äù FACETS 5 (1): 409‚Äì22. https://doi.org/10.1139/facets-2018-0049.\n\n\nTufte, Edward R. 2001. The Visual Display of Quantitative Information, 2nd Ed. 2nd edition. Cheshire, Conn: Graphics Press.\n\n\n‚Äî‚Äî‚Äî, ed. 2013. Envisioning Information. 14. print. Cheshire, Conn: Graphics Press.\n\n\nvan Beek, Lisette, Tamara Metze, Eva Kunseler, Hiddo Huitzing, Filip de Blois, and Arjan Wardekker. 2020. ‚ÄúEnvironmental Visualizations: Framing and Reframing Between Science, Policy and Society.‚Äù Environmental Science & Policy 114 (December): 497‚Äì505. https://doi.org/10.1016/j.envsci.2020.09.011.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D‚ÄôAgostino McGowan, Romain Fran√Éois, Garrett Grolemund, et al. 2019. ‚ÄúWelcome to the tidyverse.‚Äù Journal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686."
  },
  {
    "objectID": "tools.html#download-and-install-r",
    "href": "tools.html#download-and-install-r",
    "title": "Appendix B ‚Äî R and RStudio Installation and Overview",
    "section": "B.1 Download and Install R",
    "text": "B.1 Download and Install R\nR is maintained and made available through the web-page at The Comprehensive R Archive Network aka CRAN.\nThe top of the CRAN web page provides three links for downloading R. Follow the link that describes the OS of your computer: Mac, Windows, or Linux.\n\nB.1.1 R for macOS\nTo install R on a Mac, click the ‚ÄúDownload R for macOS‚Äù link. Next, click on the R-4.3.1 package link (or the package link for the most current release of R). An installer will download to guide you through the installation process. As a starting point, I recommend that most users should choose the default installation settings until they are familiar with R.\n\n\nB.1.2 R for Windows\nTo install R on Windows, click the ‚ÄúDownload R for Windows‚Äù link. Next, click on the install R for the first time link which contains base R. Then click on the link that says Download R-4.3.1 for Windows. A win.exe file will be downloaded to your downloads folder. Open that file after it downloads and follow the installation process. As a starting point, I recommend that most users should choose the default installation settings until they are familiar with R.\n\n\nB.1.3 R for Linux\nR comes preinstalled on many Linux systems, but update to the newest version of R if yours is out of date. The CRAN website provides files for different Linux builds including Debian, Fedora, Redhat, Suse, and Ubuntu. Choose the appropriate directory and the installation procedure for your flavor of Linux."
  },
  {
    "objectID": "tools.html#about-r",
    "href": "tools.html#about-r",
    "title": "Appendix B ‚Äî R and RStudio Installation and Overview",
    "section": "B.2 About R",
    "text": "B.2 About R\nR is not a friendly computer program like a web browser or a Microsoft Office product. R is a programming language, like C++, Python, or Java. R can be run like an old-school UNIX terminal, writing commands directly onto monitors with green fonts; imagine Neo in the Matrix or Angelina Jolie in Hackers. While one can still do that, most folks use the RStudio IDE.\n\n\n\nHackers use green fonts and dark mode."
  },
  {
    "objectID": "tools.html#rstudio-ide",
    "href": "tools.html#rstudio-ide",
    "title": "Appendix B ‚Äî R and RStudio Installation and Overview",
    "section": "B.3 RStudio IDE",
    "text": "B.3 RStudio IDE\nRStudio is an application - like MS Word or a browser. However, Rstudio is an app that helps you write in ‚ÄúR‚Äù, not English. It is literally a foreign language (unless you know it already). And just like any language, R has its own syntax, grammar, and vocabulary. It takes training and time to learn R, but I believe it is worth it.\nWe will use RStudio in this course because it makes using R much easier. Also, the RStudio interface looks about the same for different operating systems, which will help me because I am a Windows user and I‚Äôve observed that Claremont Colleges‚Äô scholars tend to lean towards macOS.\nDownload RStudio desktop here - I recommend the free open source version. Make sure to pick the version that is appropriate for your OS. Then follow the installation instructions.\nOnce installed, RStudio can be opened like any other program or app on your computer; usually just click on the icon on the desktop. When you open it, it should look something like Figure¬†B.1.\n\n\n\nFigure¬†B.1: RStudio\n\n\nHere, there are four separate windows or ‚ÄúPanels‚Äù.\n\nThe source panel is top-left and this is basically a text editor where you type R code or regular text. Code here gets colored and looks different if it is doing various R things. More on this later. Code doesn‚Äôt get immediately executed here; it is more like a holding place for writing/testing/debugging bigger ‚Äúscripts‚Äù or programs.\nThe console/terminal is bottom-left. The terminal is the 1980s window that does commands directly. Type print(‚ÄòHello World‚Äô), press enter/return, and you‚Äôve written some code. This console is what R would look like if you ran it without RStudio.\nThe top-right is the file manager panel. It shows files in your directory, plots, packages, and help files.\nThe bottom-right is the programming environment. It contains things you‚Äôve loaded or coded. Right now it should be empty because you‚Äôve done neither.\n\nOf course all of these can be moved around to match how you like to set it up. And I need a different color-scheme than the ugly default.\nSelect the Tools menu, followed by Global Options in the dropdown Tools menu. Navigate to appearance and you should be able to alter the color scheme to something more your style. My preferred style is Merbivore Soft as shown in Figure¬†B.2.\n\n\n\nFigure¬†B.2: goodRstudio\n\n\n\n\n\n\n\n\nDo I still need to download R?\n\n\n\nEven if you use RStudio, you‚Äôll still need to download R to your computer (or use R and RStudio cloud versions). RStudio helps you use the version of R that lives on your computer, but it doesn‚Äôt come with a version of R on its own.\nI recommend downloading R and RStudio for compatibility, but the RStudio Cloud does exist and does mostly the same thing. I will be less helpful at supporting the Cloud version for this class. There are also new web versions of R that are in early development."
  },
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "Appendix C ‚Äî Resources",
    "section": "",
    "text": "Base R is the collection of functions that come preloaded with R. A function is a code block that performs a task. Functions that come in R are in-built functions. However, the real power of R (and programming languages more generally) are the large number of user-built functions that are built to perform tasks that can be loaded into base R.\nSets of functions that have a common purpose are bundled together in R in ‚Äúpackages‚Äù. There are literally thousands of packages custom-built for R.\nDuring this course, I will ask you to use some important packages for data acquisition, tidying, and visualization. There are two steps to using a package in R.\nFirst, it needs to be installed. Here‚Äôs a non-functional example.\n\ninstall.packages('&lt;PACKAGE.NAME&gt;')\n\nAnd this example will install an actual package called janitor. This package features a nice import function that fixes column names on import called clean_names().\n\ninstall.packages('janitor')\n\nIn a meta way, you now have used a function to install a package. ‚Äòinstall.package()‚Äô is an example of an in-built R function.\nOnce a package is installed, it needs to be loaded. While the installation has put the package on your computer, you need to tell R that it should load these functions for use.\n\n\n\n\n\n\nR and other programming languages only do EXACTLY what they are told to do.\n\n\n\nLoading a package is accomplished by calling base R library function. Success is indicated with a message like ‚ÄúAttaching package: ‚Äòjanitor‚Äô\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\n\nLibraries have to be loaded each time you restart your R session. The current libraries loaded can be founded in the file manager panel under the Packages tab.\n\nC.0.1 Color Resources\nCourtesy of Dalai Vo - Fall 2022 EA 078 student - a color palette cheatsheet"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Facebook, Twitter, Show more sharing options, Facebook, Twitter,\nLinkedIn, Email, Copy Link URLCopied!, and Print. 2022.\n‚ÄúOp-Ed: We Mapped the Warehouse Takeover\nof the Inland Empire. The Results Are\nOverwhelming.‚Äù Los Angeles Times.\nhttps://www.latimes.com/opinion/story/2022-05-01/inland-empire-warehouse-growth-map-environment.\n\n\nGommeh, Efrat, Huub Dijstelbloem, and Tamara Metze. 2021. ‚ÄúVisual\nDiscourse Coalitions: Visualization and Discourse Formation in\nControversies over Shale Gas Development.‚Äù Journal of\nEnvironmental Policy & Planning 23 (3): 363‚Äì80. https://doi.org/10.1080/1523908X.2020.1823208.\n\n\nGrainger, Sam, Feng Mao, and Wouter Buytaert. 2016. ‚ÄúEnvironmental\nData Visualisation for Non-Scientific Contexts: Literature\nReview and Design Framework.‚Äù Environmental Modelling &\nSoftware 85 (November): 299‚Äì318. https://doi.org/10.1016/j.envsoft.2016.09.004.\n\n\nHorton, Simon, Stan Nowak, and Pascal Haegeli. 2020. ‚ÄúEnhancing\nthe Operational Value of Snowpack Models with Visualization Design\nPrinciples.‚Äù Natural Hazards and Earth System Sciences\n20 (6): 1557‚Äì72. https://doi.org/10.5194/nhess-20-1557-2020.\n\n\nKelleher, Christa, and Thorsten Wagener. 2011. ‚ÄúTen Guidelines for\nEffective Data Visualization in Scientific Publications.‚Äù\nEnvironmental Modelling & Software 26 (6): 822‚Äì27. https://doi.org/10.1016/j.envsoft.2010.12.006.\n\n\nMurchie, Karen J., and Dylan Diomede. 2020. ‚ÄúFundamentals of\nGraphic Designessential Tools for Effective Visual Science\nCommunication.‚Äù FACETS 5 (1): 409‚Äì22. https://doi.org/10.1139/facets-2018-0049.\n\n\nTufte, Edward R. 2001. The Visual Display of\nQuantitative Information, 2nd Ed. 2nd\nedition. Cheshire, Conn: Graphics Press.\n\n\n‚Äî‚Äî‚Äî, ed. 2013. Envisioning Information. 14. print.\nCheshire, Conn: Graphics Press.\n\n\nvan Beek, Lisette, Tamara Metze, Eva Kunseler, Hiddo Huitzing, Filip de\nBlois, and Arjan Wardekker. 2020. ‚ÄúEnvironmental Visualizations:\nFraming and Reframing Between Science, Policy and\nSociety.‚Äù Environmental Science & Policy 114\n(December): 497‚Äì505. https://doi.org/10.1016/j.envsci.2020.09.011.\n\n\nWickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy\nD‚ÄôAgostino McGowan, Romain Fran√Éois, Garrett Grolemund, et al. 2019.\n‚ÄúWelcome to the tidyverse.‚Äù\nJournal of Open Source Software 4 (43): 1686. https://doi.org/10.21105/joss.01686."
  }
]